---
layout: performance
---

<div id="categories" style="display:none">
All Categories:
{% assign sortedcats = site.categories | sort: '' %}
{% for cat in sortedcats %}
<br/><a href="{{ site.url }}/{{ cat[0] }}/">{{ cat[0] }}</a>
{% endfor %}
</div>

<div id="tags" style="display:none">
{% capture site_tags %}{% for tag in site.tags %}{{ tag[0] }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
{% assign tag_words = site_tags | split:',' | sort %}
All Tags:
<br />{% for tag in tag_words %}{{ tag }} | {% endfor %}
</div>

<script>
// Initialize the catalog
var catalog = new Catalog()
var tag_weight, newexample;
</script>


{% for post in site.posts %}
{% assign post_id = post.title | slugify:"latin" %}
<div class="refs" id="{{ post_id }}">
  <a href="{{ post.url }}"><span style="display:none">{{ post.date | date: "%B %d, %Y" }}:</span>{{ post.title }}</a>
{% if post.layout == "image" %}<img height="100" src="/img/{{ post.image }}"/>{% endif %}
<script>
newexample = new Example("{{ post_id }}");
{% for tag in post.tags %}
{% assign idx = forloop.index | minus: 1 %}
tag_weight = ["{{ tag }}", {{ post.weights[idx] }}];
newexample.addTag(tag_weight)
{% endfor %}
catalog.addExample(newexample);
</script>
</div>
{% endfor %}

<script>

// USAGE TESTS: (if these work then our code is more-or-less done)

catalog.randomize(); // randomize example divs

// Grab a couple examples to work with
e1 = Object.values(catalog.examples)[0];
e2 = Object.values(catalog.examples)[1];
e3 = Object.values(catalog.examples)[2];
e4 = Object.values(catalog.examples)[3];

taglist = ["models", "preparations", "aesthesis", "unknown"];
options = {taglist: taglist};

// Test getting a FeatureVec from an Example
fv1 = e1.getFeatures(options);
fv2 = e2.getFeatures(options);
console.log("Features of",e1,"are",fv1);
console.log("Features of",e2,"are",fv2);
easf = catalog.examplesAsFeatures(options);
console.log("All examples as features:", easf);

// Test distance measurement
distance = Measures.euclidean(fv1, fv2, options);
console.log("Distance", e1.id, "to", e2.id, "=", distance);


// Test some of the statistical functions used in the KMeans algorithm
km = new KMeans(3, options);
feature_avg = km.mean(easf);
console.log("MEAN of features:", feature_avg);
normalized = km.normalize(easf);
console.log("NORMALIZED features:",normalized);
denormalized = km.denormalize(normalized);
console.log("DENORMALIZED features:",denormalized);


// Test clustering with ten iterations
catalog.cluster(5, Measures.euclidean, taglist, 10);

</script>
